# Kodik Lab

Небольшая Streamlit-песочница для анализа графов (метрики, 3D, нулевые модели, атаки/устойчивость). Писалось итеративно, местами с костылями — так и задумано.

## Как запустить

1) Установить зависимости:

```bash
pip install -r requirements.txt
```

2) Запустить:

```bash
streamlit run app.py
```

## Данные

Можно:
- загрузить CSV / Excel с рёбрами
- или создать демо-граф из сайдбара

Ожидаемый минимальный набор колонок:
- `src` — источник
- `dst` — цель

Опционально (если есть):
- `weight` — вес ребра (число)
- `confidence` — уверенность (0–100)

Если файл "нестандартный" — после загрузки появится блок **"Сопоставление колонок"**, где можно вручную выбрать колонки.

## Что внутри

- **Dashboard**: быстрые метрики + распределения.
- **Energy**: динамика/потоки (тут всё ещё есть спорные решения).
- **3D**: сцена графа и подсветки.
- **Null**: генерация нулевых графов (для сравнения).
- **Attack**: удаление узлов/рёбер и графики деградации.
- **Compare**: сравнение графов в воркспейсе.

## Экспорт

На Dashboard есть:
- **Node metrics CSV** (degree, strength, clustering)
- экспорт графа в **GraphML/GEXF** (удобно для Gephi)

Для экспорта графиков в PNG нужна библиотека `kaleido`. Она добавлена в requirements.

## Known bugs / странности

- На очень больших графах часть метрик может "залипать" (ограничения по CPU/RAM, плюс Streamlit кэшируется не всегда предсказуемо).
- Ricci считается долго. Прогрессбар есть, но счёт идёт последовательно (иначе joblib не даёт адекватный прогресс).
- Если накидать десяток графов/экспов, браузер может начать жрать память: есть кнопка **"Trim state"** и лимиты в `src/config.py`.

## Почему местами неидеально

Потому что проект живой: что-то делалось ради скорости исследования, что-то — ради UI. Если хочется "идеальной архитектуры", это отдельная задача.
